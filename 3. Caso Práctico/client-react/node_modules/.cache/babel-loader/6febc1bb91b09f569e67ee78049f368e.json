{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport function useFetch(url, setUrl, opts) {\n  _s();\n\n  const [response, setResponse] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const doFetch = async () => {\n    try {\n      setHasError(false);\n      setLoading(true);\n      setMessage('');\n      const response = await fetch(url, opts);\n      const data = await response.json();\n      console.log(\"fetch data\", data);\n      setResponse(data);\n      setLoading(false);\n      setUrl(\"\");\n    } catch (err) {\n      console.log(err);\n      setMessage(err.message);\n      setLoading(false);\n      setHasError(true);\n      setResponse({});\n      setUrl(\"\");\n    }\n  };\n\n  useEffect(() => {\n    if (url === \"\") return;\n    doFetch();\n  }, [url]);\n  return [response, loading, hasError, message];\n}\n\n_s(useFetch, \"W2b/Q5n+6OceroxIXeQoLQLLfmk=\");","map":{"version":3,"sources":["C:/Proyectos/Challenges/intelligential/3. Caso PrÃ¡ctico/client-react/src/components/customHooks/requestAPI/index.js"],"names":["useEffect","useState","useFetch","url","setUrl","opts","response","setResponse","loading","setLoading","hasError","setHasError","message","setMessage","doFetch","fetch","data","json","console","log","err"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAO,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,MAAvB,EAA+BC,IAA/B,EAAqC;AAAA;;AACxC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMa,OAAO,GAAC,YAAS;AACnB,QAAG;AACCH,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAI,MAAAA,UAAU,CAAC,EAAD,CAAV;AACA,YAAMP,QAAQ,GAAG,MAAMS,KAAK,CAACZ,GAAD,EAAME,IAAN,CAA5B;AACA,YAAMW,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,IAA1B;AACAT,MAAAA,WAAW,CAACS,IAAD,CAAX;AACAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAL,MAAAA,MAAM,CAAC,EAAD,CAAN;AACH,KAVD,CAUC,OAAMgB,GAAN,EAAU;AACPF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACAP,MAAAA,UAAU,CAACO,GAAG,CAACR,OAAL,CAAV;AACAH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAJ,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAH,MAAAA,MAAM,CAAC,EAAD,CAAN;AACH;AACJ,GAnBD;;AAqBAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGG,GAAG,KAAG,EAAT,EACI;AACJW,IAAAA,OAAO;AACV,GAJQ,EAIN,CAACX,GAAD,CAJM,CAAT;AAKA,SAAO,CAAEG,QAAF,EAAYE,OAAZ,EAAqBE,QAArB,EAA+BE,OAA/B,CAAP;AACH;;GAjCeV,Q","sourcesContent":["import {useEffect, useState} from \"react\";\r\nexport function useFetch(url, setUrl, opts) {\r\n    const [response, setResponse] = useState({})\r\n    const [loading, setLoading] = useState(false)\r\n    const [hasError, setHasError] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    \r\n    const doFetch=async()=>{\r\n        try{\r\n            setHasError(false);\r\n            setLoading(true);\r\n            setMessage('')\r\n            const response = await fetch(url, opts);\r\n            const data = await response.json();\r\n            console.log(\"fetch data\", data);\r\n            setResponse(data);\r\n            setLoading(false);\r\n            setUrl(\"\");\r\n        }catch(err){\r\n            console.log(err);\r\n            setMessage(err.message);\r\n            setLoading(false);\r\n            setHasError(true);\r\n            setResponse({});\r\n            setUrl(\"\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(url===\"\")\r\n            return;\r\n        doFetch();\r\n    }, [url])\r\n    return [ response, loading, hasError, message ];\r\n}"]},"metadata":{},"sourceType":"module"}