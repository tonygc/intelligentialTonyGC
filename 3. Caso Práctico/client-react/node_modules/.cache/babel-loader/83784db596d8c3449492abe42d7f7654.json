{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos\\\\Challenges\\\\intelligential\\\\3. Caso Pr\\xE1ctico\\\\client-react\\\\src\\\\components\\\\menu_nav.js\",\n    _s = $RefreshSig$();\n\nimport { BrowserRouter as Router, Route, Link, Redirect } from 'react-router-dom';\nimport { Container as BrowserBooks } from './listaLibros';\nimport { Container as LibrarianRequests } from './listaSolicitudesBibliotecario';\nimport { Container as ReaderRequests } from './listaSolicitudesLector';\nimport { Container as FormUser } from './mantenimientoUsuario';\nimport { Container as BrowserUsers } from './listaUsuarios';\nimport { Container as FormBook } from './mantenimientoLibro';\nimport { Container as Login } from './login';\nimport { useAuthDispatch, useAuthState, logout } from './context';\nimport { useState } from 'react';\nimport { Grid, Box, Typography, Menu as MenuUI, MenuItem, Button, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport ReorderIcon from '@material-ui/icons/Reorder';\nimport FaceIcon from '@material-ui/icons/Face';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5'\n  }\n})(props => /*#__PURE__*/_jsxDEV(MenuUI, {\n  elevation: 0,\n  getContentAnchorEl: null,\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'center'\n  },\n  transformOrigin: {\n    vertical: 'top',\n    horizontal: 'center'\n  },\n  ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 5\n}, this));\nconst StyledMenuItem = withStyles(theme => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white\n      }\n    }\n  }\n}))(MenuItem);\nexport default function Menu(props) {\n  _s();\n\n  const dispatch = useAuthDispatch(); // read dispatch method from context\n\n  const user = useAuthState(); //read user details from context\n\n  const [singout, setSingOut] = useState(false);\n\n  const handleLogout = () => {\n    logout(dispatch); //call the logout action\n\n    setSingOut(true); //props.history.push('/usuario/login') //navigate to logout page on logout\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      component: \"h2\",\n      align: \"left\",\n      children: \"Virtual Library\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Router, {\n      children: [user.userDetails && /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"row-reverse\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          startIcon: /*#__PURE__*/_jsxDEV(FaceIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 30\n          }, this),\n          endIcon: /*#__PURE__*/_jsxDEV(ReorderIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 28\n          }, this),\n          \"aria-controls\": \"customized-menu\",\n          \"aria-haspopup\": \"true\",\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleClick,\n          children: [\"Bienvenido \", user.userDetails.first_name, \" \", user.userDetails.last_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(StyledMenu, {\n          id: \"customized-menu\",\n          anchorEl: anchorEl,\n          keepMounted: true,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          children: [user.userDetails.profile_id === 1 && /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            component: Link,\n            to: \"/usuario/lista\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(PeopleAltIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Usuarios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), (user.userDetails.profile_id === 1 || user.userDetails.profile_id === 3) && /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            component: Link,\n            to: \"/libro/lista\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(MenuBookIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Libros\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this), user.userDetails.profile_id === 2 && /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            component: Link,\n            to: \"/solicitudesBibliotecario\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ViewListIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Solicitudes de Pr\\xE9stamo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), user.userDetails.profile_id === 3 && /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            component: Link,\n            to: \"/solicitudesLector\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ViewListIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Mis Solicitudes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), user.userDetails.profile_id === 3 && /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            component: Link,\n            to: \"/usuario\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ViewListIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Perfil de usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StyledMenuItem, {\n            onClick: handleLogout,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Cerrar sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/libro/lista\",\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(BrowserBooks, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/solicitudesBibliotecario\",\n        exact: true,\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 49\n        }, this) : user.userDetails.profile_id !== 2 ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 59\n        }, this) : /*#__PURE__*/_jsxDEV(LibrarianRequests, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 94\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/solicitudesLector\",\n        exact: true,\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 49\n        }, this) : user.userDetails.profile_id !== 3 ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 59\n        }, this) : /*#__PURE__*/_jsxDEV(ReaderRequests, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 94\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/usuario\",\n        exact: true,\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 49\n        }, this) : user.userDetails.profile_id === 1 ? /*#__PURE__*/_jsxDEV(FormUser, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(FormUser, { ...props,\n          location: { ...props,\n            state: user.userDetails\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/usuario/lista\",\n        exact: true,\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 49\n        }, this) : user.userDetails.profile_id === 1 ? /*#__PURE__*/_jsxDEV(BrowserUsers, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/libro\",\n        exact: true,\n        render: props => !user.userDetails ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(FormBook, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/usuario/login\",\n        exact: true,\n        render: props => /*#__PURE__*/_jsxDEV(Login, { ...props,\n          location: {\n            closeMenu: () => handleClose\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 67\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/usuario/Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), singout && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/usuario/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Menu, \"X0i/lVokzUZqTBd1jL0SKlu5CUs=\", false, function () {\n  return [useAuthDispatch, useAuthState];\n});\n\n_c = Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["C:/Proyectos/Challenges/intelligential/3. Caso Práctico/client-react/src/components/menu_nav.js"],"names":["BrowserRouter","Router","Route","Link","Redirect","Container","BrowserBooks","LibrarianRequests","ReaderRequests","FormUser","BrowserUsers","FormBook","Login","useAuthDispatch","useAuthState","logout","useState","Grid","Box","Typography","Menu","MenuUI","MenuItem","Button","ListItemIcon","ListItemText","withStyles","InboxIcon","DraftsIcon","MenuBookIcon","PeopleAltIcon","ExitToAppIcon","ViewListIcon","ReorderIcon","FaceIcon","useEffect","StyledMenu","paper","border","props","vertical","horizontal","StyledMenuItem","theme","root","backgroundColor","palette","primary","main","color","common","white","dispatch","user","singout","setSingOut","handleLogout","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","userDetails","first_name","last_name","Boolean","profile_id","state","closeMenu"],"mappings":";;;AAAA,SAAQA,aAAa,IAAIC,MAAzB,EAAiCC,KAAjC,EAAwCC,IAAxC,EAA8CC,QAA9C,QAA6D,kBAA7D;AACA,SAAQC,SAAS,IAAIC,YAArB,QAAwC,eAAxC;AACA,SAAQD,SAAS,IAAIE,iBAArB,QAA8C,iCAA9C;AACA,SAAQF,SAAS,IAAIG,cAArB,QAA2C,0BAA3C;AACA,SAAQH,SAAS,IAAII,QAArB,QAAoC,wBAApC;AACA,SAAQJ,SAAS,IAAIK,YAArB,QAAwC,iBAAxC;AACA,SAAQL,SAAS,IAAIM,QAArB,QAAoC,sBAApC;AACA,SAAQN,SAAS,IAAIO,KAArB,QAAiC,SAAjC;AACA,SAASC,eAAT,EAA0BC,YAA1B,EAAwCC,MAAxC,QAAsD,WAAtD;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,EAAgCC,IAAI,IAAIC,MAAxC,EAAgDC,QAAhD,EAA0DC,MAA1D,EAAiEC,YAAjE,EAA+EC,YAA/E,QAAmG,mBAAnG;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,SAAT,QAA0B,OAA1B;;AACA,MAAMC,UAAU,GAAGV,UAAU,CAAC;AAC1BW,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AADH;AADmB,CAAD,CAAV,CAIbC,KAAD,iBACD,QAAC,MAAD;AACE,EAAA,SAAS,EAAE,CADb;AAEE,EAAA,kBAAkB,EAAE,IAFtB;AAGE,EAAA,YAAY,EAAE;AACZC,IAAAA,QAAQ,EAAE,QADE;AAEZC,IAAAA,UAAU,EAAE;AAFA,GAHhB;AAOE,EAAA,eAAe,EAAE;AACfD,IAAAA,QAAQ,EAAE,KADK;AAEfC,IAAAA,UAAU,EAAE;AAFG,GAPnB;AAAA,KAWMF;AAXN;AAAA;AAAA;AAAA;AAAA,QALe,CAAnB;AAmBE,MAAMG,cAAc,GAAGhB,UAAU,CAAEiB,KAAD,KAAY;AAC5CC,EAAAA,IAAI,EAAE;AACJ,eAAW;AACTC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAD9B;AAET,6DAAuD;AACrDC,QAAAA,KAAK,EAAEN,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC;AADyB;AAF9C;AADP;AADsC,CAAZ,CAAD,CAAV,CASnB7B,QATmB,CAAvB;AAWF,eAAe,SAASF,IAAT,CAAcmB,KAAd,EAAoB;AAAA;;AAC/B,QAAMa,QAAQ,GAAGvC,eAAe,EAAhC,CAD+B,CACI;;AACnC,QAAMwC,IAAI,GAAGvC,YAAY,EAAzB,CAF+B,CAEH;;AAC5B,QAAM,CAACwC,OAAD,EAAUC,UAAV,IAAwBvC,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMwC,YAAY,GAAG,MAAM;AACvBzC,IAAAA,MAAM,CAACqC,QAAD,CAAN,CADuB,CACN;;AACjBG,IAAAA,UAAU,CAAC,IAAD,CAAV,CAFuB,CAIvB;AACH,GALD;;AAOA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,IAAD,CAAxC;;AAEF,QAAM2C,WAAW,GAAIC,KAAD,IAAW;AAC7BF,IAAAA,WAAW,CAACE,KAAK,CAACC,aAAP,CAAX;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAG,MAAM;AACxBJ,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAFD;;AAGE,sBACI;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,SAAS,EAAC,IAAnC;AAAwC,MAAA,KAAK,EAAC,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,MAAD;AAAA,iBAEIL,IAAI,CAACU,WAAL,iBACA,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAoB,QAAA,aAAa,EAAC,aAAlC;AAAA,gCACE,QAAC,MAAD;AACA,UAAA,IAAI,EAAC,OADL;AAEA,UAAA,SAAS,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,kBAFX;AAGA,UAAA,OAAO,eAAE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,kBAHT;AAIV,2BAAc,iBAJJ;AAKV,2BAAc,MALJ;AAMV,UAAA,OAAO,EAAC,WANE;AAOV,UAAA,KAAK,EAAC,SAPI;AAQV,UAAA,OAAO,EAAEJ,WARC;AAAA,oCAUEN,IAAI,CAACU,WAAL,CAAiBC,UAVnB,OAUgCX,IAAI,CAACU,WAAL,CAAiBE,SAVjD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAaV,QAAC,UAAD;AACE,UAAA,EAAE,EAAC,iBADL;AAEE,UAAA,QAAQ,EAAER,QAFZ;AAGE,UAAA,WAAW,MAHb;AAIE,UAAA,IAAI,EAAES,OAAO,CAACT,QAAD,CAJf;AAKE,UAAA,OAAO,EAAEK,WALX;AAAA,qBAQkBT,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA9B,iBACA,QAAC,cAAD;AACA,YAAA,SAAS,EAAEhE,IADX;AAEA,YAAA,EAAE,EAAC,gBAFH;AAAA,oCAIA,QAAC,YAAD;AAAA,qCACA,QAAC,aAAD;AAAe,gBAAA,QAAQ,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAJA,eAOF,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPE;AAAA;AAAA;AAAA;AAAA;AAAA,kBATlB,EAmBK,CAACkD,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA9B,IAAmCd,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAAlE,kBACD,QAAC,cAAD;AACA,YAAA,SAAS,EAAEhE,IADX;AAEA,YAAA,EAAE,EAAC,cAFH;AAAA,oCAIA,QAAC,YAAD;AAAA,qCACA,QAAC,YAAD;AAAc,gBAAA,QAAQ,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAJA,eAOF,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPE;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,EA+BmBkD,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA/B,iBAEI,QAAC,cAAD;AACA,YAAA,SAAS,EAAEhE,IADX;AAEJ,YAAA,EAAE,EAAC,2BAFC;AAAA,oCAIlB,QAAC,YAAD;AAAA,qCACE,QAAC,YAAD;AAAc,gBAAA,QAAQ,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJkB,eAOlB,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPkB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjCtB,EA4CmBkD,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA/B,iBAEI,QAAC,cAAD;AACA,YAAA,SAAS,EAAEhE,IADX;AAEJ,YAAA,EAAE,EAAC,oBAFC;AAAA,oCAIlB,QAAC,YAAD;AAAA,qCACE,QAAC,YAAD;AAAc,gBAAA,QAAQ,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJkB,eAOlB,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPkB;AAAA;AAAA;AAAA;AAAA;AAAA,kBA9CtB,EAyDmBkD,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA/B,iBAEI,QAAC,cAAD;AACA,YAAA,SAAS,EAAEhE,IADX;AAEJ,YAAA,EAAE,EAAC,UAFC;AAAA,oCAIlB,QAAC,YAAD;AAAA,qCACE,QAAC,YAAD;AAAc,gBAAA,QAAQ,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJkB,eAOlB,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPkB;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3DtB,eAqEE,QAAC,cAAD;AAAgB,YAAA,OAAO,EAAEqD,YAAzB;AAAA,oCACE,QAAC,YAAD;AAAA,qCACE,QAAC,aAAD;AAAe,gBAAA,QAAQ,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,YAAD;AAAc,cAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBArEF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbU;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eA+FI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,cAAZ;AAA2B,QAAA,MAAM,EAC7BjB,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,gBACN,QAAC,YAAD,OAAkBxB;AAAlB;AAAA;AAAA;AAAA;AAAA;AAFN;AAAA;AAAA;AAAA;AAAA,cA/FJ,eAoGI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,2BAAZ;AAAwC,QAAA,KAAK,MAA7C;AAA8C,QAAA,MAAM,EAChDA,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,GACJV,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA9B,gBAAkC,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAlC,gBAAqE,QAAC,iBAAD,OAAuB5B;AAAvB;AAAA;AAAA;AAAA;AAAA;AAF7E;AAAA;AAAA;AAAA;AAAA,cApGJ,eAwGI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,oBAAZ;AAAiC,QAAA,KAAK,MAAtC;AAAuC,QAAA,MAAM,EACzCA,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,GACJV,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAA8B,CAA9B,gBAAkC,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAlC,gBAAqE,QAAC,cAAD,OAAoB5B;AAApB;AAAA;AAAA;AAAA;AAAA;AAF7E;AAAA;AAAA;AAAA;AAAA,cAxGJ,eA4GI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,KAAK,MAA5B;AAA6B,QAAA,MAAM,EAC/BA,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,GAEPV,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAAgC,CAAhC,gBACD,QAAC,QAAD,OAAc5B;AAAd;AAAA;AAAA;AAAA;AAAA,gBADC,gBAED,QAAC,QAAD,OAAcA,KAAd;AAAsB,UAAA,QAAQ,EAAE,EAAC,GAAGA,KAAJ;AAAW6B,YAAAA,KAAK,EAACf,IAAI,CAACU;AAAtB;AAAhC;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,cA5GJ,eAmHI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,KAAK,MAAlC;AAAmC,QAAA,MAAM,EACrCxB,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,GACLV,IAAI,CAACU,WAAL,CAAiBI,UAAjB,KAAgC,CAAhC,gBACD,QAAC,YAAD,OAAkB5B;AAAlB;AAAA;AAAA;AAAA;AAAA,gBADC,gBAED,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAJN;AAAA;AAAA;AAAA;AAAA,cAnHJ,eAyHI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,MAA1B;AAA2B,QAAA,MAAM,EAC7BA,KAAK,IAAG,CAACc,IAAI,CAACU,WAAN,gBAAoB,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAApB,gBACN,QAAC,QAAD,OAAcxB;AAAd;AAAA;AAAA;AAAA;AAAA;AAFN;AAAA;AAAA;AAAA;AAAA,cAzHJ,eA6HI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,KAAK,MAAlC;AAAmC,QAAA,MAAM,EAAEA,KAAK,iBAAE,QAAC,KAAD,OAAWA,KAAX;AAAkB,UAAA,QAAQ,EAAE;AAAC8B,YAAAA,SAAS,EAAC,MAAIP;AAAf;AAA5B;AAAA;AAAA;AAAA;AAAA;AAAlD;AAAA;AAAA;AAAA;AAAA,cA7HJ,eA8HI,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAA,+BACI,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA9HJ,EAiIOR,OAAO,iBACN,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAlIR;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4IH;;GAjKuBlC,I;UACHP,e,EACJC,Y;;;KAFOM,I","sourcesContent":["import {BrowserRouter as Router, Route, Link, Redirect} from 'react-router-dom';\r\nimport {Container as BrowserBooks} from './listaLibros';\r\nimport {Container as LibrarianRequests } from './listaSolicitudesBibliotecario';\r\nimport {Container as ReaderRequests } from './listaSolicitudesLector';\r\nimport {Container as FormUser} from './mantenimientoUsuario';\r\nimport {Container as BrowserUsers} from './listaUsuarios';\r\nimport {Container as FormBook} from './mantenimientoLibro';\r\nimport {Container as Login} from './login';\r\nimport { useAuthDispatch, useAuthState, logout } from './context'\r\nimport { useState } from 'react';\r\nimport { Grid, Box, Typography, Menu as MenuUI, MenuItem, Button,ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport DraftsIcon from '@material-ui/icons/Drafts';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport ReorderIcon from '@material-ui/icons/Reorder';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport { useEffect } from 'react'\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n      border: '1px solid #d3d4d5',\r\n    },\r\n  })((props) => (\r\n    <MenuUI\r\n      elevation={0}\r\n      getContentAnchorEl={null}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n      }}\r\n      {...props}\r\n    />\r\n  ));\r\n  const StyledMenuItem = withStyles((theme) => ({\r\n    root: {\r\n      '&:focus': {\r\n        backgroundColor: theme.palette.primary.main,\r\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n          color: theme.palette.common.white,\r\n        },\r\n      },\r\n    }\r\n  }))(MenuItem);\r\n\r\nexport default function Menu(props){\r\n    const dispatch = useAuthDispatch() // read dispatch method from context\r\n    const user = useAuthState() //read user details from context\r\n    const [singout, setSingOut] = useState(false);\r\n \r\n    const handleLogout = () => {\r\n        logout(dispatch) //call the logout action\r\n        setSingOut(true);\r\n        \r\n        //props.history.push('/usuario/login') //navigate to logout page on logout\r\n    }\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n    return(\r\n        <div>\r\n            <Typography variant=\"h2\" component=\"h2\" align=\"left\">\r\n                Virtual Library\r\n            </Typography>\r\n            <Router>\r\n            {(\r\n                user.userDetails &&\r\n                <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                  <Button\r\n                  size=\"large\"\r\n                  startIcon={<FaceIcon />}\r\n                  endIcon={<ReorderIcon />}\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n      >\r\n        Bienvenido {user.userDetails.first_name} {user.userDetails.last_name}\r\n      </Button>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {\r\n                        user.userDetails.profile_id===1 &&\r\n                        <StyledMenuItem\r\n                        component={Link}\r\n                        to=\"/usuario/lista\"\r\n                        >\r\n                        <ListItemIcon>\r\n                        <PeopleAltIcon fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Usuarios\" />\r\n                                  </StyledMenuItem>\r\n                        }\r\n          {(user.userDetails.profile_id===1 || user.userDetails.profile_id===3) &&\r\n          <StyledMenuItem\r\n          component={Link}\r\n          to=\"/libro/lista\"\r\n          >\r\n          <ListItemIcon>\r\n          <MenuBookIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Libros\" />\r\n                    </StyledMenuItem>\r\n                    }\r\n        {\r\n                        (user.userDetails.profile_id===2\r\n                            ) &&\r\n                            <StyledMenuItem\r\n                            component={Link}\r\n                        to=\"/solicitudesBibliotecario\"\r\n                            >\r\n          <ListItemIcon>\r\n            <ViewListIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Solicitudes de Préstamo\" />\r\n        </StyledMenuItem>\r\n                    }\r\n                    {\r\n                        (user.userDetails.profile_id===3\r\n                            ) &&\r\n                            <StyledMenuItem\r\n                            component={Link}\r\n                        to=\"/solicitudesLector\"\r\n                            >\r\n          <ListItemIcon>\r\n            <ViewListIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Mis Solicitudes\" />\r\n        </StyledMenuItem>\r\n                    }\r\n                    {\r\n                        (user.userDetails.profile_id===3\r\n                            ) &&\r\n                            <StyledMenuItem\r\n                            component={Link}\r\n                        to=\"/usuario\"\r\n                            >\r\n          <ListItemIcon>\r\n            <ViewListIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Perfil de usuario\" />\r\n        </StyledMenuItem>\r\n                    }\r\n        <StyledMenuItem onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <ExitToAppIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Cerrar sesión\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n                </Box>\r\n                \r\n            )}\r\n                <Route path=\"/libro/lista\" render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : <BrowserBooks {...props} />\r\n                }\r\n                />\r\n                <Route path=\"/solicitudesBibliotecario\" exact render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : ( user.userDetails.profile_id!==2 ? <Redirect to=\"/usuario/login\" /> : <LibrarianRequests {...props} />)\r\n                } />\r\n                <Route path=\"/solicitudesLector\" exact render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : ( user.userDetails.profile_id!==3 ? <Redirect to=\"/usuario/login\" /> : <ReaderRequests {...props} />)\r\n                } />\r\n                <Route path=\"/usuario\" exact render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : \r\n                    (user.userDetails.profile_id === 1 ?\r\n                    <FormUser {...props} /> :\r\n                    <FormUser {...props } location={{...props, state:user.userDetails}} />)\r\n                } />\r\n                <Route path=\"/usuario/lista\" exact render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : (user.userDetails.profile_id === 1 ?\r\n                      <BrowserUsers {...props} />\r\n                    : <Redirect to=\"/usuario/login\" />)\r\n                } />\r\n                <Route path=\"/libro\" exact render={\r\n                    props=> !user.userDetails ? <Redirect to=\"/usuario/login\" /> \r\n                    : <FormBook {...props} />\r\n                } />\r\n                <Route path=\"/usuario/login\" exact render={props=><Login {...props} location={{closeMenu:()=>handleClose}} />}/>\r\n                <Route exact path=\"/\">\r\n                    <Redirect to=\"/usuario/Login\" />\r\n                </Route>\r\n                {( singout && \r\n                    <Redirect to=\"/usuario/login\" />\r\n                )}\r\n            </Router>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}