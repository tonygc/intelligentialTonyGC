{"ast":null,"code":"import React, { useReducer } from \"react\";\nlet user = localStorage.getItem(\"currentUser\") ? JSON.parse(localStorage.getItem(\"currentUser\")) : null; // let token = localStorage.getItem(\"currentUser\")\n//   ? JSON.parse(localStorage.getItem(\"currentUser\")).auth_token\n//   : \"\";\n\nexport const initialState = {\n  userDetails: \"\" || user,\n  //token: \"\" || token,\n  loading: false,\n  errorMessage: null\n};\nexport const AuthReducer = (initialState, action) => {\n  switch (action.type) {\n    case \"REQUEST_LOGIN\":\n      return { ...initialState,\n        errorMessage: \"\",\n        loading: true\n      };\n\n    case \"LOGIN_SUCCESS\":\n      return { ...initialState,\n        userDetails: action.payload,\n        //token: action.payload.auth_token,\n        loading: false\n      };\n\n    case \"LOGOUT\":\n      return { ...initialState,\n        userDetails: null //token: \"\"\n\n      };\n\n    case \"LOGIN_ERROR\":\n      return { ...initialState,\n        loading: false,\n        errorMessage: action.error,\n        userDetails: null\n      };\n\n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n};\n_c = AuthReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthReducer\");","map":{"version":3,"sources":["C:/Proyectos/Challenges/intelligential/3. Caso PrÃ¡ctico/client-react/src/components/context/reducer.js"],"names":["React","useReducer","user","localStorage","getItem","JSON","parse","initialState","userDetails","loading","errorMessage","AuthReducer","action","type","payload","error","Error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAEA,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,IACPC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CADO,GAEP,IAFJ,C,CAGA;AACA;AACA;;AAEA,OAAO,MAAMG,YAAY,GAAG;AAC1BC,EAAAA,WAAW,EAAE,MAAMN,IADO;AAE1B;AACAO,EAAAA,OAAO,EAAE,KAHiB;AAI1BC,EAAAA,YAAY,EAAE;AAJY,CAArB;AAOP,OAAO,MAAMC,WAAW,GAAG,CAACJ,YAAD,EAAeK,MAAf,KAA0B;AACnD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,aAAO,EACL,GAAGN,YADE;AAELG,QAAAA,YAAY,EAAE,EAFT;AAGLD,QAAAA,OAAO,EAAE;AAHJ,OAAP;;AAKF,SAAK,eAAL;AACE,aAAO,EACL,GAAGF,YADE;AAELC,QAAAA,WAAW,EAAEI,MAAM,CAACE,OAFf;AAGL;AACAL,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAMF,SAAK,QAAL;AACE,aAAO,EACL,GAAGF,YADE;AAELC,QAAAA,WAAW,EAAE,IAFR,CAGL;;AAHK,OAAP;;AAMF,SAAK,aAAL;AACE,aAAO,EACL,GAAGD,YADE;AAELE,QAAAA,OAAO,EAAE,KAFJ;AAGLC,QAAAA,YAAY,EAAEE,MAAM,CAACG,KAHhB;AAILP,QAAAA,WAAW,EAAC;AAJP,OAAP;;AAOF;AACE,YAAM,IAAIQ,KAAJ,CAAW,0BAAyBJ,MAAM,CAACC,IAAK,EAAhD,CAAN;AA9BJ;AAgCD,CAjCM;KAAMF,W","sourcesContent":["import React, { useReducer } from \"react\";\r\n \r\nlet user = localStorage.getItem(\"currentUser\")\r\n  ? JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  : null;\r\n// let token = localStorage.getItem(\"currentUser\")\r\n//   ? JSON.parse(localStorage.getItem(\"currentUser\")).auth_token\r\n//   : \"\";\r\n \r\nexport const initialState = {\r\n  userDetails: \"\" || user,\r\n  //token: \"\" || token,\r\n  loading: false,\r\n  errorMessage: null\r\n};\r\n \r\nexport const AuthReducer = (initialState, action) => {\r\n  switch (action.type) {\r\n    case \"REQUEST_LOGIN\":\r\n      return {\r\n        ...initialState,\r\n        errorMessage: \"\",\r\n        loading: true\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        ...initialState,\r\n        userDetails: action.payload,\r\n        //token: action.payload.auth_token,\r\n        loading: false\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...initialState,\r\n        userDetails: null,\r\n        //token: \"\"\r\n      };\r\n \r\n    case \"LOGIN_ERROR\":\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        errorMessage: action.error,\r\n        userDetails:null\r\n      };\r\n \r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}